{"ast":null,"code":"var _jsxFileName = \"/Users/amanirmk/stuff/projects/phd-website/src/components/CustomScrollDiv.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useCallback, useEffect, useRef } from \"react\";\nimport \"./onHoverStyle.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SCROLL_BOX_MIN_HEIGHT = 20;\nexport default function CustomScrollDiv(_ref) {\n  _s();\n  let {\n    children,\n    className,\n    ...restProps\n  } = _ref;\n  const [hovering, setHovering] = useState(false);\n  const [scrollBoxHeight, setScrollBoxHeight] = useState(SCROLL_BOX_MIN_HEIGHT);\n  const [scrollBoxTop, setScrollBoxTop] = useState(0);\n  const handleMouseOver = useCallback(() => {\n    !hovering && setHovering(true);\n  }, [hovering]);\n  const handleMouseOut = useCallback(() => {\n    !!hovering && setHovering(false);\n  }, [hovering]);\n  const handleScroll = useCallback(() => {\n    if (!scrollHostRef) {\n      return;\n    }\n    const scrollHostElement = scrollHostRef.current;\n    const {\n      scrollTop,\n      scrollHeight,\n      offsetHeight\n    } = scrollHostElement;\n    let newTop = parseInt(scrollTop, 10) / parseInt(scrollHeight, 10) * offsetHeight;\n    console.log(newTop, scrollBoxHeight, scrollTop, scrollHeight, offsetHeight);\n    console.log(offsetHeight - scrollBoxHeight);\n    // newTop = newTop + parseInt(scrollTop, 10);\n    newTop = Math.min(newTop, offsetHeight - scrollBoxHeight);\n    setScrollBoxTop(newTop);\n  }, []);\n  const scrollHostRef = useRef();\n  const handleScrollThumbMouseDown = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    setScrollThumbPosition(e.clientY);\n    setDragging(true);\n  }, []);\n  handleMouseUp = e => {\n    if (this.state.isDragging) {\n      e.preventDefault();\n      this.setState({\n        isDragging: false\n      });\n    }\n  };\n  useEffect(() => {\n    const scrollHostElement = scrollHostRef.current;\n    const {\n      clientHeight,\n      scrollHeight\n    } = scrollHostElement;\n    const scrollBoxPercentage = clientHeight / scrollHeight;\n    const scrollbarHeight = Math.max(scrollBoxPercentage * clientHeight, SCROLL_BOX_MIN_HEIGHT);\n    setScrollBoxHeight(scrollbarHeight);\n    scrollHostElement.addEventListener(\"scroll\", handleScroll, true);\n    return function cleanup() {\n      scrollHostElement.removeEventListener(\"scroll\", handleScroll, true);\n    };\n  }, []);\n  const handleDocumentMouseMove = useCallback(e => {\n    if (isDragging) {\n      e.preventDefault();\n      e.stopPropagation();\n      const scrollHostElement = scrollHostRef.current;\n      const {\n        scrollHeight,\n        offsetHeight\n      } = scrollHostElement;\n      let deltaY = e.clientY - lastScrollThumbPosition;\n      let newScrollHostTop = scrollHeight / offsetHeight * deltaY;\n      setScrollThumbPosition(e.clientY);\n      setScrollBoxTop(Math.min(Math.max(0, scrollBoxTop + deltaY), offsetHeight - scrollBoxHeight));\n      scrollHostElement.scrollTop = Math.min(scrollHostElement.scrollTop + newScrollHostTop, scrollHeight - offsetHeight);\n    }\n  }, [isDragging, lastScrollThumbPosition, scrollBoxHeight, scrollBoxTop]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"scrollhost-container\",\n    onMouseOver: handleMouseOver,\n    onMouseOut: handleMouseOut,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      ref: scrollHostRef,\n      className: `scrollhost ${className}`,\n      ...restProps,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"scroll-bar\",\n      style: {\n        opacity: hovering ? 1 : 0\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"scroll-thumb\",\n        style: {\n          height: scrollBoxHeight,\n          top: scrollBoxTop\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 97,\n    columnNumber: 5\n  }, this);\n}\n_s(CustomScrollDiv, \"B7xQEaklHVp3JL/lGjLmunFOpCc=\");\n_c = CustomScrollDiv;\nvar _c;\n$RefreshReg$(_c, \"CustomScrollDiv\");","map":{"version":3,"names":["React","useState","useCallback","useEffect","useRef","jsxDEV","_jsxDEV","SCROLL_BOX_MIN_HEIGHT","CustomScrollDiv","_ref","_s","children","className","restProps","hovering","setHovering","scrollBoxHeight","setScrollBoxHeight","scrollBoxTop","setScrollBoxTop","handleMouseOver","handleMouseOut","handleScroll","scrollHostRef","scrollHostElement","current","scrollTop","scrollHeight","offsetHeight","newTop","parseInt","console","log","Math","min","handleScrollThumbMouseDown","e","preventDefault","stopPropagation","setScrollThumbPosition","clientY","setDragging","handleMouseUp","state","isDragging","setState","clientHeight","scrollBoxPercentage","scrollbarHeight","max","addEventListener","cleanup","removeEventListener","handleDocumentMouseMove","deltaY","lastScrollThumbPosition","newScrollHostTop","onMouseOver","onMouseOut","ref","fileName","_jsxFileName","lineNumber","columnNumber","style","opacity","height","top","_c","$RefreshReg$"],"sources":["/Users/amanirmk/stuff/projects/phd-website/src/components/CustomScrollDiv.js"],"sourcesContent":["\nimport React, { useState, useCallback, useEffect, useRef } from \"react\";\nimport \"./onHoverStyle.css\";\n\nconst SCROLL_BOX_MIN_HEIGHT = 20;\n\nexport default function CustomScrollDiv({ children, className, ...restProps }) {\n  const [hovering, setHovering] = useState(false);\n  const [scrollBoxHeight, setScrollBoxHeight] = useState(SCROLL_BOX_MIN_HEIGHT);\n  const [scrollBoxTop, setScrollBoxTop] = useState(0);\n\n  const handleMouseOver = useCallback(() => {\n    !hovering && setHovering(true);\n  }, [hovering]);\n\n  const handleMouseOut = useCallback(() => {\n    !!hovering && setHovering(false);\n  }, [hovering]);\n\n  const handleScroll = useCallback(() => {\n    if (!scrollHostRef) {\n      return;\n    }\n    const scrollHostElement = scrollHostRef.current;\n    const { scrollTop, scrollHeight, offsetHeight } = scrollHostElement;\n\n    let newTop =\n      (parseInt(scrollTop, 10) / parseInt(scrollHeight, 10)) * offsetHeight;\n    console.log(newTop, scrollBoxHeight, scrollTop, scrollHeight, offsetHeight);\n\n    console.log(offsetHeight - scrollBoxHeight);\n    // newTop = newTop + parseInt(scrollTop, 10);\n    newTop = Math.min(newTop, offsetHeight - scrollBoxHeight);\n    setScrollBoxTop(newTop);\n  }, []);\n\n  const scrollHostRef = useRef();\n\n  const handleScrollThumbMouseDown = useCallback(e => {\n    e.preventDefault();\n    e.stopPropagation();\n    \n    setScrollThumbPosition(e.clientY);\n    setDragging(true);\n  }, []);\n\n  handleMouseUp = e => {\n    if (this.state.isDragging) {\n      e.preventDefault();\n      this.setState({ isDragging: false });\n    }\n  };\n\n  useEffect(() => {\n    const scrollHostElement = scrollHostRef.current;\n    const { clientHeight, scrollHeight } = scrollHostElement;\n    const scrollBoxPercentage = clientHeight / scrollHeight;\n    const scrollbarHeight = Math.max(\n      scrollBoxPercentage * clientHeight,\n      SCROLL_BOX_MIN_HEIGHT\n    );\n    setScrollBoxHeight(scrollbarHeight);\n    scrollHostElement.addEventListener(\"scroll\", handleScroll, true);\n    return function cleanup() {\n      scrollHostElement.removeEventListener(\"scroll\", handleScroll, true);\n    };\n  }, []);\n\n  const handleDocumentMouseMove = useCallback(\n    e => {\n      if (isDragging) {\n        e.preventDefault();\n        e.stopPropagation();\n        const scrollHostElement = scrollHostRef.current;\n        const { scrollHeight, offsetHeight } = scrollHostElement;\n\n        let deltaY = e.clientY - lastScrollThumbPosition;\n        let newScrollHostTop = (scrollHeight / offsetHeight) * deltaY;\n\n        setScrollThumbPosition(e.clientY);\n        setScrollBoxTop(\n          Math.min(\n            Math.max(0, scrollBoxTop + deltaY),\n            offsetHeight - scrollBoxHeight\n          )\n        );\n        scrollHostElement.scrollTop = Math.min(\n          scrollHostElement.scrollTop + newScrollHostTop,\n          scrollHeight - offsetHeight\n        );\n      }\n    },\n    [isDragging, lastScrollThumbPosition, scrollBoxHeight, scrollBoxTop]\n  );\n\n  return (\n    <div\n      className={\"scrollhost-container\"}\n      onMouseOver={handleMouseOver}\n      onMouseOut={handleMouseOut}\n    >\n      <div\n        ref={scrollHostRef}\n        className={`scrollhost ${className}`}\n        {...restProps}\n      >\n        {children}\n      </div>\n      <div className={\"scroll-bar\"} style={{ opacity: hovering ? 1 : 0 }}>\n        <div\n          className={\"scroll-thumb\"}\n          style={{ height: scrollBoxHeight, top: scrollBoxTop }}\n        />\n      </div>\n    </div>\n  );\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}